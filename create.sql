create table tb_associados (id int8 generated by default as identity, celular varchar(255), cpf varchar(255), email varchar(255), is_active boolean, limite_total numeric(19, 2), limite_utilizado numeric(19, 2), matricula varchar(255) not null, name varchar(255), rg varchar(255), salario_base numeric(19, 2), setor varchar(255), zone_city varchar(255), primary key (id));
create table tb_associados_dependentes (associado_id int8 not null, dependentes_id int8 not null, primary key (associado_id, dependentes_id));
create table tb_convenios (id int8 generated by default as identity, address varchar(255), cnpj varchar(250) not null, corporate_name varchar(255), email varchar(255), fantasy_name varchar(255), is_active boolean, municipal_resgistration varchar(255), phone_stores varchar(255), reference_point varchar(255), responsible varchar(255), state_resgistration varchar(255), tel varchar(255), primary key (id));
create table tb_dependentes (id int8 generated by default as identity, created_at timestamp, grau_parentesco varchar(255), idade int8, nome varchar(255), primary key (id));
create table tb_parcelas (id int8 generated by default as identity, data_vencimento date, name varchar(255), status varchar(255), valor numeric(19, 2), requisicao_id int8, primary key (id));
create table tb_planos (id int8 generated by default as identity, address varchar(255), cnpj varchar(250), corporate_name varchar(255), email varchar(255), is_active boolean, nome varchar(255), tel varchar(255), valor float8, primary key (id));
create table tb_planos_associados (id int8 generated by default as identity, created_at timestamp, associado_id int8, plano_id int8, primary key (id));
create table tb_planos_associados_dependentes (id int8 generated by default as identity, created_at timestamp, dependente_id int8, plano_associado_id int8, primary key (id));
create table tb_requisicoes (id int8 generated by default as identity, data_requisicao date, is_avulso boolean not null, parcela_atual varchar(255), status varchar(255), valor_parcela numeric(19, 2), valor_total numeric(19, 2), associado_id int8 not null, convenio_id int8 not null, primary key (id));
create table tb_roles (id int8 generated by default as identity, autority varchar(255), primary key (id));
create table tb_users (id int8 generated by default as identity, email varchar(255), first_name varchar(255), password varchar(255), primary key (id));
create table tb_users_roles (user_id int8 not null, role_id int8 not null, primary key (user_id, role_id));
alter table if exists tb_associados add constraint UK_6l3h1lgyep6pydec7fv9fo05q unique (matricula);
alter table if exists tb_associados_dependentes add constraint UK_nr97sctygwp7bia3qh8r45lhf unique (dependentes_id);
alter table if exists tb_planos add constraint UK_40yvcheryh9ecxli2b5tc2p1e unique (cnpj);
alter table if exists tb_users add constraint UK_grd22228p1miaivbn9yg178pm unique (email);
alter table if exists tb_associados_dependentes add constraint FKb3sh0j3bapk3xpia5n7rbt4h7 foreign key (dependentes_id) references tb_dependentes;
alter table if exists tb_associados_dependentes add constraint FKooe7l15u1ls9fn8nn8pus1oby foreign key (associado_id) references tb_associados;
alter table if exists tb_parcelas add constraint FK1j07a1mwxl4pa1iv1b1b6yer5 foreign key (requisicao_id) references tb_requisicoes;
alter table if exists tb_planos_associados add constraint FKctl1u0kgp65fcfycvv97uh83b foreign key (associado_id) references tb_associados;
alter table if exists tb_planos_associados add constraint FKqonopcdcd2edh0sfmf1a6523 foreign key (plano_id) references tb_planos;
alter table if exists tb_planos_associados_dependentes add constraint FKnwsg7n0xglmrm1uo0wja2r0id foreign key (dependente_id) references tb_dependentes;
alter table if exists tb_planos_associados_dependentes add constraint FK7o8sbr9dmhil0bbohjsc11xvw foreign key (plano_associado_id) references tb_planos_associados;
alter table if exists tb_requisicoes add constraint FKh5x9ecvh5x98rwmbrvpjrp3bh foreign key (associado_id) references tb_associados;
alter table if exists tb_requisicoes add constraint FKds5mn6t2u5dr9lho81snp0shp foreign key (convenio_id) references tb_convenios;
alter table if exists tb_users_roles add constraint FKj5qged12p22eloqw5g4f9hm2e foreign key (role_id) references tb_roles;
alter table if exists tb_users_roles add constraint FK5xc4yvfrjcy8bl01kq3crp8pg foreign key (user_id) references tb_users;
INSERT INTO TB_ROLES (id,autority) VALUES(1,'ROLE_ADM');
INSERT INTO TB_ROLES (id,autority) VALUES(2,'ROLE_OPERATOR');
INSERT INTO TB_USERS (id,FIRST_NAME,email,password) VALUES(1,'Caio','caio.aguiar2528@gmail.com','$2y$12$yVrc3R7WsihBuRR66OCuFu4RGSxJwioEUKYcoUKrZ3WiIWmfHZt.m');
INSERT INTO TB_USERS (id,FIRST_NAME,email,password) VALUES(2,'Helena','helena@gmail.com','$2y$10$XJsFd/JNi0tRzhIced0aieIa8ybm4XVncdBQ8olWghFkCtJYVcO.O');
INSERT INTO TB_USERS (id,FIRST_NAME,email,password) VALUES(3,'Asstrans','asstransmanaus@gmail.com','$2y$12$yVrc3R7WsihBuRR66OCuFu4RGSxJwioEUKYcoUKrZ3WiIWmfHZt.m');
INSERT INTO TB_USERS_ROLES (USER_ID, ROLE_ID) VALUES(1,1);
INSERT INTO TB_USERS_ROLES (USER_ID, ROLE_ID) VALUES(2,2);
INSERT INTO TB_USERS_ROLES (USER_ID, ROLE_ID) VALUES(3,1);
create table tb_associados (id int8 generated by default as identity, celular varchar(255), cpf varchar(255), email varchar(255), is_active boolean, limite_total numeric(19, 2), limite_utilizado numeric(19, 2), matricula varchar(255) not null, name varchar(255), rg varchar(255), salario_base numeric(19, 2), setor varchar(255), zone_city varchar(255), primary key (id));
create table tb_associados_dependentes (associado_id int8 not null, dependentes_id int8 not null, primary key (associado_id, dependentes_id));
create table tb_convenios (id int8 generated by default as identity, address varchar(255), cnpj varchar(250) not null, corporate_name varchar(255), email varchar(255), fantasy_name varchar(255), is_active boolean, municipal_resgistration varchar(255), phone_stores varchar(255), reference_point varchar(255), responsible varchar(255), state_resgistration varchar(255), tel varchar(255), primary key (id));
create table tb_dependentes (id int8 generated by default as identity, created_at timestamp, grau_parentesco varchar(255), idade int8, nome varchar(255), primary key (id));
create table tb_parcelas (id int8 generated by default as identity, data_vencimento date, name varchar(255), status varchar(255), valor numeric(19, 2), requisicao_id int8, primary key (id));
create table tb_planos (id int8 generated by default as identity, address varchar(255), cnpj varchar(250), corporate_name varchar(255), email varchar(255), is_active boolean, nome varchar(255), tel varchar(255), valor float8, primary key (id));
create table tb_planos_associados (id int8 generated by default as identity, created_at timestamp, associado_id int8, plano_id int8, primary key (id));
create table tb_planos_associados_dependentes (id int8 generated by default as identity, created_at timestamp, dependente_id int8, plano_associado_id int8, primary key (id));
create table tb_requisicoes (id int8 generated by default as identity, data_requisicao date, is_avulso boolean not null, parcela_atual varchar(255), status varchar(255), valor_parcela numeric(19, 2), valor_total numeric(19, 2), associado_id int8 not null, convenio_id int8 not null, primary key (id));
create table tb_roles (id int8 generated by default as identity, autority varchar(255), primary key (id));
create table tb_users (id int8 generated by default as identity, email varchar(255), first_name varchar(255), password varchar(255), primary key (id));
create table tb_users_roles (user_id int8 not null, role_id int8 not null, primary key (user_id, role_id));
alter table if exists tb_associados add constraint UK_6l3h1lgyep6pydec7fv9fo05q unique (matricula);
alter table if exists tb_associados_dependentes add constraint UK_nr97sctygwp7bia3qh8r45lhf unique (dependentes_id);
alter table if exists tb_planos add constraint UK_40yvcheryh9ecxli2b5tc2p1e unique (cnpj);
alter table if exists tb_users add constraint UK_grd22228p1miaivbn9yg178pm unique (email);
alter table if exists tb_associados_dependentes add constraint FKb3sh0j3bapk3xpia5n7rbt4h7 foreign key (dependentes_id) references tb_dependentes;
alter table if exists tb_associados_dependentes add constraint FKooe7l15u1ls9fn8nn8pus1oby foreign key (associado_id) references tb_associados;
alter table if exists tb_parcelas add constraint FK1j07a1mwxl4pa1iv1b1b6yer5 foreign key (requisicao_id) references tb_requisicoes;
alter table if exists tb_planos_associados add constraint FKctl1u0kgp65fcfycvv97uh83b foreign key (associado_id) references tb_associados;
alter table if exists tb_planos_associados add constraint FKqonopcdcd2edh0sfmf1a6523 foreign key (plano_id) references tb_planos;
alter table if exists tb_planos_associados_dependentes add constraint FKnwsg7n0xglmrm1uo0wja2r0id foreign key (dependente_id) references tb_dependentes;
alter table if exists tb_planos_associados_dependentes add constraint FK7o8sbr9dmhil0bbohjsc11xvw foreign key (plano_associado_id) references tb_planos_associados;
alter table if exists tb_requisicoes add constraint FKh5x9ecvh5x98rwmbrvpjrp3bh foreign key (associado_id) references tb_associados;
alter table if exists tb_requisicoes add constraint FKds5mn6t2u5dr9lho81snp0shp foreign key (convenio_id) references tb_convenios;
alter table if exists tb_users_roles add constraint FKj5qged12p22eloqw5g4f9hm2e foreign key (role_id) references tb_roles;
alter table if exists tb_users_roles add constraint FK5xc4yvfrjcy8bl01kq3crp8pg foreign key (user_id) references tb_users;
INSERT INTO TB_ROLES (id,autority) VALUES(1,'ROLE_ADM');
INSERT INTO TB_ROLES (id,autority) VALUES(2,'ROLE_OPERATOR');
INSERT INTO TB_USERS (id,FIRST_NAME,email,password) VALUES(3,'Asstrans','asstransmanaus@gmail.com','$2y$12$yVrc3R7WsihBuRR66OCuFu4RGSxJwioEUKYcoUKrZ3WiIWmfHZt.m');
INSERT INTO TB_USERS_ROLES (USER_ID, ROLE_ID) VALUES(1,1);
